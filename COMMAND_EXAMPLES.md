# Immersive Cinematics 指令使用示例文档

本文档详细介绍了 Immersive Cinematics 模组的所有指令用法，包括新增的高级运镜效果。

## 基本指令格式

所有指令前缀：`/ic-run`

通用参数：
- `duration`: 运动持续时间（秒），最小值为 0.1 秒

## 1. 直线运动指令

### 1.1 直接朝向目标的直线运动
**指令格式：**
```
/ic-run direct <start> <end> <duration>
```

**参数说明：**
- `start`: 起始位置（Vec3 格式，如 `0 64 0`）
- `end`: 结束位置（Vec3 格式）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run direct 0 64 0 10 64 10 5
```
效果：从 (0, 64, 0) 到 (10, 64, 10) 直线运动，耗时 5 秒

### 1.2 平滑曲线运动（带视角过渡）
**指令格式：**
```
/ic-run smooth <start> <end> <duration>
```

**示例：**
```
/ic-run smooth 0 64 0 10 64 10 3
```
效果：从 (0, 64, 0) 到 (10, 64, 10) 平滑曲线运动，镜头朝向自然过渡，耗时 3 秒

### 1.3 向后兼容的线性运动
**指令格式：**
```
/ic-run linear <start> <end> <duration>
```
（与 `direct` 模式功能相同，保持向后兼容性）

## 2. 环绕运动指令

**指令格式：**
```
/ic-run orbit <center> <radius> <speed> <height> <duration>
```

**参数说明：**
- `center`: 环绕中心点（Vec3 格式）
- `radius`: 环绕半径（最小值 0.1 方块）
- `speed`: 角速度（弧度/秒）
- `height`: 垂直位移（可正可负，单位方块）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run orbit 5 64 5 3 60 2 4
```
效果：围绕 (5, 64, 5) 点进行环绕运动，半径 3 方块，角速度 60 度/秒，垂直上升 2 方块，持续 4 秒

## 3. 贝塞尔曲线运动指令

**指令格式：**
```
/ic-run bezier <start> <control> <end> <duration>
```

**参数说明：**
- `start`: 起始位置（Vec3 格式）
- `control`: 控制点（决定曲线形状，Vec3 格式）
- `end`: 结束位置（Vec3 格式）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run bezier 0 64 0 5 70 5 10 64 10 3
```
效果：从 (0, 64, 0) 出发，经过控制点 (5, 70, 5)，到达 (10, 64, 10)，形成一个平滑的拱形曲线，耗时 3 秒

## 4. 螺旋上升/下降运动指令

**指令格式：**
```
/ic-run spiral <center> <radius> <speed> <height> <duration>
```

**参数说明：**
- `center`: 螺旋中心点（Vec3 格式）
- `radius`: 螺旋半径（最小值 0.1 方块）
- `speed`: 角速度（弧度/秒）
- `height`: 垂直位移（可正可负，单位方块）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run spiral 5 64 5 4 45 3 5
```
效果：围绕 (5, 64, 5) 点螺旋上升，半径 4 方块，角速度 45 度/秒，上升 3 方块，持续 5 秒

## 5. 滑动变焦运动指令

**指令格式：**
```
/ic-run dolly <start> <end> <target> <duration>
```

**参数说明：**
- `start`: 起始位置（Vec3 格式）
- `end`: 结束位置（Vec3 格式）
- `target`: 聚焦点（Vec3 格式，通常是路径中点）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run dolly 0 64 0 10 64 0 5 64 0 3
```
效果：从 (0, 64, 0) 移动到 (10, 64, 0)，聚焦在 (5, 64, 0) 点，产生空间压缩/拉伸错觉，耗时 3 秒

## 6. 静态旋转/摇镜头运动指令

**指令格式：**
```
/ic-run pan <position> <startPitch> <startYaw> <endPitch> <endYaw> <duration>
```

**参数说明：**
- `position`: 固定位置（Vec3 格式）
- `startPitch`: 起始俯仰角（-90 到 90 度）
- `startYaw`: 起始偏航角（-180 到 180 度）
- `endPitch`: 结束俯仰角（-90 到 90 度）
- `endYaw`: 结束偏航角（-180 到 180 度）
- `duration`: 运动持续时间（秒）

**示例：**
```
/ic-run pan 5 64 5 -15 0 -30 90 4
```
效果：在 (5, 64, 5) 位置固定不动，镜头从俯仰角 -15 度、偏航角 0 度，平滑旋转到俯仰角 -30 度、偏航角 90 度，耗时 4 秒

## 使用技巧

### 1. Vec3 坐标格式
- Minecraft 支持相对坐标和绝对坐标
- 绝对坐标：`x y z`（如 `5 64 5`）
- 相对坐标：`~x ~y ~z`（如 `~5 ~ ~5` 表示当前位置 X+5，Z+5）

### 2. 配合实际场景使用建议

#### 建筑展示
```
/ic-run dolly ~-10 ~5 ~-10 ~10 ~5 ~10 ~0 ~5 ~0 4
```
效果：从建筑一侧移动到另一侧，聚焦在建筑中心，产生强烈的空间感

#### Boss 登场
```
/ic-run spiral ~0 ~10 ~0 8 30 -5 6
```
效果：从高位螺旋下降到地面，镜头始终朝向 boss 生成点

#### 自然景观
```
/ic-run bezier ~0 ~8 ~0 ~0 ~15 ~-10 ~0 ~10 ~-20 8
```
效果：从山脚下升起，经过山峰侧面，俯瞰山谷全景

### 3. 参数调整建议

#### 运动速度
- 快速运动：1-2 秒
- 中等运动：3-5 秒
- 缓慢运动：6-10 秒
- 超慢运动：10 秒以上（用于强调场景）

#### 半径/范围
- 近距离：1-5 方块（细节展示）
- 中距离：5-15 方块（物体全貌）
- 远距离：15-50 方块（场景展示）

#### 角速度
- 慢速旋转：15-30 度/秒
- 中等旋转：30-60 度/秒
- 快速旋转：60-120 度/秒
- 极快旋转：120 度/秒以上（用于特殊效果）

## 常见问题

### Q: 指令执行后没有反应？
A: 确保您有权限（需要 OP 权限等级 2），并检查坐标格式是否正确。

### Q: 运动过程中画面抖动？
A: 这是 Minecraft 原版渲染限制造成的，使用 `smooth` 模式可以减少抖动。

### Q: 如何精确控制镜头朝向？
A: 使用 `/tp @s ~ ~ ~ <yaw> <pitch>` 先调整好视角，再使用指令。

### Q: 可以组合多个运动吗？
A: 目前需要逐个执行，未来会支持运动序列功能。

## 更新日志

### v1.0 (当前版本)
- 新增贝塞尔曲线运动 (`/ic-run bezier`)
- 新增螺旋上升/下降运动 (`/ic-run spiral`)
- 新增滑动变焦运动 (`/ic-run dolly`)
- 新增静态旋转运动 (`/ic-run pan`)
- 优化了直线运动的平滑度
- 完善了角度插值算法

---

如果您在使用过程中有任何问题或建议，请随时反馈！